<div class="modal-header">
  <h5 class="modal-title" id="actionModalLabel">Edit User Accounts({{userName}})</h5>
  <button
    type="button"
    class="btn-close"
    aria-label="Close"
    (click)="modalRef.close()"
  ></button>
</div>
<div class="modal-body custom-model-body">
  <mdb-tabs [justified]="true">
    <mdb-tab *ngFor="let item of linkedAccounts; let tabIndex = index" title="{{item['company_name']}}">
      <div class="row history-table-row">
        <table class="table table-striped table-bordered table-sm table-responsive-xl table-font">
          <thead class="table-dark">
            <tr>
              <th>Account</th>
              <th>Month</th>
              <th>Year</th>
              <th>Current Preparer</th>
              <th>Current Reviewer</th>
              <th>Assign as Preparer</th>
              <th>Assign as Reviewer</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let account of item['accounts']">
              <td>{{account.account_id}}</td>
              <td>{{account.month}}</td>
              <td>{{account.year}}</td>
              <td>{{account.preparer}}</td>
              <td>{{account.reviewer}}</td>
              <td><input [checked]="account.preparer_id === userId ? 'checked': ''" type="checkbox" class="custom-control-input" id="preparer_{{account.id}}" (click)="checkSelect($event, 'preparer', account.id, account.month, account.year)"/></td>
              <td><input [checked]="account.reviewer_id === userId ? 'checked': ''" type="checkbox" class="custom-control-input" id="reviewer_{{account.id}}" (click)="checkSelect($event, 'reviewer', account.id, account.month, account.year)"/></td>
            </tr>
          </tbody>
        </table>
      </div>
    </mdb-tab>
  </mdb-tabs>
</div>
<div class="modal-footer justify-content-between">
  <button type="button" class="btn btn-primary" (click)="modalRef.close()">Close</button>
  <button type="button" class="btn btn-primary" (click)="bulkUpdate()">Bulk update</button>
</div>
